<!-- takes songName and songArtist  -->

<head>
  <link rel="stylesheet" href="/static/homep.css">

  <script src="/static/hp.js"></script>
</head>

<nav class = "mainNav">
  <a class = "homeNav" href="/"> Home </a>
  <a class = "aboutNav" href="/about"> About Us </a>
</nav>

<div class = "dayDisplay">
  <div>
    <a> <- previous </a>
    {{songDay}}
    <a> next -> </a>
  </div>
  <div>
    {{songArtist }}- {{songName}}
  </div>
</div>

<!-- testing with inputdate  -->
<div id=pickMonthDay2>
   <form id = "dateForm" onsubmit = "setAction2()">
    <label> Choose a Date:</label>
        <input 
          type="date" 
          id = "dateInput"
          min="2024-01-01"
          max="2024-04-30">
    <button type="submit"> Submit </button>
   </form>  
</div>



      

<div id = "pickMonthDay">
  <form id = "dateForm" onsubmit = "setAction()">
    <label> Choose a Month:</label>
        <select id="month" name="month" onchange="updateDays()">
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
      </select>
    <br>
    <label> Choose a Day:</label>
        <select id="days" name="days" onchange="updateSong()">
        </select>
    <button type="submit"> Submit </button>
   </form>
</div>
<script>
      function updateDays() {
          month = document.getElementById('month').value; 
          daysSelect = document.getElementById('days');
          daysInMonth = new Date(2024, month, 0).getDate();

          let options = '';
          for (let day = 1; day <= daysInMonth; day++) {
              options += `<option value="${day}">${day}</option>`;
          }
          daysSelect.innerHTML = options;
      }
      document.addEventListener('DOMContentLoaded', updateDays);
   
      function setAction() {
        month = document.getElementById('month').value;
        day = document.getElementById('days').value;
        form = document.getElementById('dateForm');
        form.action = `/day/${month}/${day}`;
      }
      function setAction2() {
            dateFromForm = getElementById('dateInput').value;
            date = new Date(dateFromForm);
            month = date.getMonth() + 1;
            day = date.getDate();
            form = document.getElementById('dateForm');
            form.action = `/day/${month}/${day}`;
          }

  
      function saveSelection() {
        month = document.getElementById('month').value;
        day = document.getElementById('days').value;
        localStorage.setItem('selectedMonth', month);
        localStorage.setItem('selectedDay', day);
      }
   
    
      document.addEventListener('DOMContentLoaded', () => {
    // Retrieve the saved month and day from local storage
    const savedMonth = localStorage.getItem('selectedMonth');
    if (savedMonth) {
      document.getElementById('month').value = savedMonth;
      updateDays();  // Call updateDays to set the correct number of days
    } else {
      updateDays();  // Initialize days if no saved month
    }
  });
  </script>
