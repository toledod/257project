<!-- takes tablefetch  -->
<head>
  <link rel="stylesheet" href="/static/homep.css">

  <script src="/static/hp.js"></script>
</head>

<nav class = "mainNav">
  <a class = "homeNav" href="/"> home </a>
  <a class = "aboutNav" href="/about"> about us </a>
</nav>

<div class = "chartMonthDisplay">
  <table style="width:100%" id = "tablemonth" onload = tableCreate();>

  </table>
</div>


<form id = "monthDropDown" onsubmit = setAction()>
  <label> Choose a Month:</label>
<select id = "months">
  <option value="01"> January</option>
  <option value="02"> Febuary</option>
  <option value="03"> March</option>
  <option value="04"> April</option>
</select>
  <button type="submit"> Submit </button>
</form>

<script>
document.addEventListener('DOMContentLoaded', () => {
  tableCreate();

  function tableCreate() {
    const tableDisplay = document.getElementById('tablemonth');
    const tableSql = {{ tablefetch }};

    let options = '';
    for (let row = 0; row < tableSql.length; row++) {
      options += '<tr>';
      for (let col = 0; col < tableSql[row].length; col++) {
        options += `<td>${tableSql[row][col]}</td>`;
      }
      options += '</tr>';
    }
    tableDisplay.innerHTML = options;
    console.log(options);
  }
});
  function setAction() {
    month = document.getElementById('months').value;
    form = document.getElementById('monthDropDown');
    form.action = `/month/${month}`;
}
</script>
